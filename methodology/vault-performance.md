# ðŸ¦ Vault performance

{% hint style="info" %}
**Etymology:** Vault, Lending and Liquidity pools are not three distinct universes of strategies. We made this decomposition to facilitate the understanding of investment in DeFi.
{% endhint %}

## What is a vault ?

Vaults are pools of funds following certain strategies, which attempt to provide passive income streams through competitive yield farming strategies.

Basically, there two majors characteristics of vaults :

#### Exploiting investment opportunities

The vault invests the underlying (i.e. USDC) in lending pools, liquidity pools and in farming pools. By investing in these pools, the vault earns trading fees, lending fees and liquidity rewards that accrues the value of the underlying USDC in vault.&#x20;

#### Compounding effect

Moreover, vaults optimizes the compounding effect. It means that rewards are constantly re-invested in the strategy and boost the yield.&#x20;

Imagine that you have 1$ at beginning of year 1 and you invest it in a pool with a 100% annual APY. At the end of year 1, you will have 2$. Then would reinvest your 2$ to get 4$ at the end of year 2 etc.&#x20;

Imagine now that you can reinvest proceeds at the middle of year 1. You will then reinvest 1 + 0.5 $ between the middle and the end of the year, and at the same APR, you will have (1.5$)\*(1+50%) = 2.25$ > 2$.&#x20;

What yield vaut propose is to reinvest on a very frequent basis your proceeds in order to maximise your gains.



#### Entry/Exit situation

Firstly, Investor I enters a vault P by buying LP shares against at time 0 and price P0 (denominated in USDC).

Finally, at time t > 0, the underlying value of USDC in the pool has accrued thanks to proceeds and compounding effect.  In the same time, he number of LP shares has remained of the investor the same. Thus price Pt > P0.&#x20;



## PricePerShare difference for APY

In order to capture the performance of a vault, the method we apply is to compute the difference in price between two periods of time, extrapolated to annual view.

It means that at time i :&#x20;

* APY\_monthly(i) = (\[P(i+30) - P(i)]/\[i+30-i])\*365.25
* APY\_weekly(i) = (\[P(i+7) - P(i)]/\[i+7-i])\*365.25
* APY\_daily(i) = (\[P(i+1) - P(i)]/\[i+1-i])\*365.25

Focusing on the price per share delta is the common denominator between all yield protocols. Yearn, Beefy.finance, stakeDAO has a pricepershare or priceperfullshare method included in their smart contract.&#x20;



The price automatically includes price appreciation due to proceeds from strategies and also take into account automatic compounding of the proceeds as they also increase the price of the price per share.&#x20;

## Fees

There are three types of fees that protocols take on the performance of the vault.

* Performance fees

These are fees charged above a certain level of performance. The modalities depend on each protocol (the duration over which the performance is calculated, the frequency of deduction, the level of deduction). These fees are already integrated in the performance calculation method because they are included in the price per share.

If you want to know the details of these fees between each protocol, you can go[ here](../resources/get-listed-on-papy/).

* Management fees

These are fees charged independently from the level of performance. The modalities depend on each protocol (the frequency of deduction, the level of deduction). These fees are already integrated in the performance calculation method because they are included in the price per share.

If you want to know the details of these fees between each protocol, you can go[ here](../resources/get-listed-on-papy/).

* Withdrawal fees&#x20;

These are fees charged only when the investor withdraw its LP shares from the vault. The modalities depend on each protocol (the level of deduction). These fees are not integrated in the performance calculation method because they are not included in the price per share.

If you want to know the details of these fees between each protocol, you can go[ here](../resources/get-listed-on-papy/).

## Performance on top of other strategies

In Yearn or Stake DAO vault linked to Curve's pool, APY shown on their website include the performance of the pool in Curve. At pAPY we decided to exclude this surplus performance as strategies should be only accountable for the performance they are natively creating.&#x20;

Thus, you will see the performance of the Curve's pool as another strategy (as a Liquidity pool performance part).&#x20;

This decision is taken in order to clarify the added value of every protocols in the chain of values and might participate in the democratization and the lisibility of DeFi investment opportunities.

## Native rewards and Liquidity mining rewards

The performance generated by strategies in the vaults have two sources. Native rewards come from fees generated in the exchange or lending pools, liquidity mining are rewards related to the use of a protocol that are not derived from the strategy's native work.

Even if the performance of both sources is integrated in the calculation of the APY, we will make a distinction between these two sources for the following reason: we consider that a sustainable strategy is a strategy that is based mostly on native rewards rather than liquidity mining rewards.



## USD denominated vs. token denominated

The pure performance of a strategy should be calculated according to the denomination of the underlying token.&#x20;

This represents the effectiveness of the vault management, and take into account only those factors over which they have control.

However, it is interesting to take into consideration the USD denominated performance. First of all because it is sometimes more obvious to realize the health of one's portfolio in USD than in BANANAELONDOGE token. Moreover, it also allows to realize the correlation between the performance of the underlying and the performance of the strategy. (detailed in the next section).

In order to compute the USD denominated performance :&#x20;

* APYmonthly\_USD(i) = \[1+APY\_monthly(i)]\*\[1+token\_USD(i)]

where token\_USD is the performance over a month of the underlying token vs. USD.

Same process apply for weekly and daily USD.



